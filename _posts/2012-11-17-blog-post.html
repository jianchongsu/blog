--- 
layout: post
name: blog-post
title: " \xE4\xB8\x89\xE9\x97\xA8\xE9\x97\xAE\xE9\xA2\x98\xE7\x9A\x84\xE6\xA8\xA1\xE6\x8B\x9F"
date: 2012-11-17 21:15:00 +08:00
categories: 
- "\xE6\xA8\xA1\xE6\x8B\x9F"
permalink: /2012/11/blog-post.html
---
<br /><div class="separator" style="clear: both; text-align: center;"><a href="http://3.bp.blogspot.com/-z-3zytdxFBY/UKeM5ssdvoI/AAAAAAAABQs/GCMs3ew3_TM/s1600/monty-hall-problem.jpg" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="204" src="http://3.bp.blogspot.com/-z-3zytdxFBY/UKeM5ssdvoI/AAAAAAAABQs/GCMs3ew3_TM/s320/monty-hall-problem.jpg" width="320" /></a></div>有一个著名的蒙提霍尔问题，亦称为三门问题（英文：Monty Hall problem），大致出自美国的电视游戏节目Let's Make a Deal。问题的名字来自该节目的主持人蒙提·霍尔（Monty Hall）。这个游戏的玩法是：参赛者会看见三扇关闭了的门，其中一扇的后面有一辆汽车，选中后面有车的那扇门就可以赢得该汽车，而另外两扇门后面则各藏有一只山羊。当参赛者选定了一扇门，但未去开启它的时候，知道门后情形的节目主持人会开启剩下两扇门的其中一扇，露出其中一只山羊。主持人其后会问参赛者要不要换另一扇仍然关上的门。问题是：换另一扇门会否增加参赛者赢得汽车的机会率？<br /><br />这条问题亦被叫做蒙提霍尔悖论：虽然该问题的答案在逻辑上并不自相矛盾，但十分违反直觉。这问题曾引起网络上一阵热烈的讨论。有人认为概率还是1/3，不用换。有人认为概率增大为1/2，可以换。实际上，如果严格按照上述的条件的话，赢得汽车的正确机率是2/3。我们可以用一种极端的方法来考虑，如果有100扇门，主持人打开了998扇空门，你换不换呢？显然是要换的。<br /><br />还有许多概率推理的方法可以获得正确答案。但我们有计算机和R，让我们来写个小程序模拟一下嘛。<br /><br /><div style="overflow: auto;"><div class="geshifilter"><pre class="r geshifilter-R" style="font-family: monospace;"><span style="color: #666666; font-style: italic;"><a name='more'></a># 坚持不换的策略</span><br />n &lt;- <span style="color: #cc66cc;">0</span><br /><span style="color: black; font-weight: bold;">for</span> <span style="color: #009900;">(</span> i <span style="color: black; font-weight: bold;">in</span> <span style="color: #cc66cc;">1</span>:<span style="color: #cc66cc;">10000</span><span style="color: #009900;">)</span> <span style="color: #009900;">{</span><br />    door &lt;- <a href="http://inside-r.org/r-doc/base/c"><span style="color: #003399; font-weight: bold;">c</span></a><span style="color: #009900;">(</span><span style="color: #cc66cc;">1</span><span style="color: #339933;">,</span><span style="color: #cc66cc;">2</span><span style="color: #339933;">,</span><span style="color: #cc66cc;">3</span><span style="color: #009900;">)</span><br />    chance &lt;- <a href="http://inside-r.org/r-doc/base/sample"><span style="color: #003399; font-weight: bold;">sample</span></a><span style="color: #009900;">(</span>door<span style="color: #339933;">,</span><span style="color: #cc66cc;">1</span><span style="color: #009900;">)</span><br />    select &lt;- <a href="http://inside-r.org/r-doc/base/sample"><span style="color: #003399; font-weight: bold;">sample</span></a><span style="color: #009900;">(</span>door<span style="color: #339933;">,</span><span style="color: #cc66cc;">1</span><span style="color: #009900;">)</span><br />    <span style="color: black; font-weight: bold;">if</span> <span style="color: #009900;">(</span>chance == select<span style="color: #009900;">)</span> <span style="color: #009900;">{</span><br />        n &lt;- n + <span style="color: #cc66cc;">1</span><br />    <span style="color: #009900;">}</span><br /><span style="color: #009900;">}</span><br /><a href="http://inside-r.org/r-doc/base/print"><span style="color: #003399; font-weight: bold;">print</span></a><span style="color: #009900;">(</span>n/<span style="color: #cc66cc;">10000</span><span style="color: #009900;">)</span><br />&nbsp;<br /><span style="color: #666666; font-style: italic;"># 坚持换的策略</span><br />n &lt;- <span style="color: #cc66cc;">0</span><br />door &lt;- <a href="http://inside-r.org/r-doc/base/c"><span style="color: #003399; font-weight: bold;">c</span></a><span style="color: #009900;">(</span><span style="color: #cc66cc;">1</span><span style="color: #339933;">,</span><span style="color: #cc66cc;">2</span><span style="color: #339933;">,</span><span style="color: #cc66cc;">3</span><span style="color: #009900;">)</span><br /><span style="color: black; font-weight: bold;">for</span> <span style="color: #009900;">(</span> i <span style="color: black; font-weight: bold;">in</span> <span style="color: #cc66cc;">1</span>:<span style="color: #cc66cc;">10000</span><span style="color: #009900;">)</span> <span style="color: #009900;">{</span><br />    chance &lt;- <a href="http://inside-r.org/r-doc/base/sample"><span style="color: #003399; font-weight: bold;">sample</span></a><span style="color: #009900;">(</span>door<span style="color: #339933;">,</span><span style="color: #cc66cc;">1</span><span style="color: #009900;">)</span><br />    select &lt;- <a href="http://inside-r.org/r-doc/base/sample"><span style="color: #003399; font-weight: bold;">sample</span></a><span style="color: #009900;">(</span>door<span style="color: #339933;">,</span><span style="color: #cc66cc;">1</span><span style="color: #009900;">)</span><br />    <a href="http://inside-r.org/r-doc/base/remove"><span style="color: #003399; font-weight: bold;">remove</span></a> &lt;- <a href="http://inside-r.org/r-doc/base/ifelse"><span style="color: #003399; font-weight: bold;">ifelse</span></a><span style="color: #009900;">(</span>chance==select<span style="color: #339933;">,</span> <br />                    <a href="http://inside-r.org/r-doc/base/sample"><span style="color: #003399; font-weight: bold;">sample</span></a><span style="color: #009900;">(</span><a href="http://inside-r.org/r-doc/base/setdiff"><span style="color: #003399; font-weight: bold;">setdiff</span></a><span style="color: #009900;">(</span>door<span style="color: #339933;">,</span>chance<span style="color: #009900;">)</span><span style="color: #339933;">,</span><span style="color: #cc66cc;">1</span><span style="color: #009900;">)</span><span style="color: #339933;">,</span><br />                    <a href="http://inside-r.org/r-doc/base/setdiff"><span style="color: #003399; font-weight: bold;">setdiff</span></a><span style="color: #009900;">(</span>door<span style="color: #339933;">,</span><a href="http://inside-r.org/r-doc/base/c"><span style="color: #003399; font-weight: bold;">c</span></a><span style="color: #009900;">(</span>chance<span style="color: #339933;">,</span>select<span style="color: #009900;">)</span><span style="color: #009900;">)</span><span style="color: #009900;">)</span><br />    reselect &lt;- <a href="http://inside-r.org/r-doc/base/setdiff"><span style="color: #003399; font-weight: bold;">setdiff</span></a><span style="color: #009900;">(</span>door<span style="color: #339933;">,</span><a href="http://inside-r.org/r-doc/base/c"><span style="color: #003399; font-weight: bold;">c</span></a><span style="color: #009900;">(</span>select<span style="color: #339933;">,</span><a href="http://inside-r.org/r-doc/base/remove"><span style="color: #003399; font-weight: bold;">remove</span></a><span style="color: #009900;">)</span><span style="color: #009900;">)</span><br />    <span style="color: black; font-weight: bold;">if</span> <span style="color: #009900;">(</span>chance == reselect<span style="color: #009900;">)</span> <span style="color: #009900;">{</span><br />        n &lt;- n + <span style="color: #cc66cc;">1</span><br />    <span style="color: #009900;">}</span><br /><span style="color: #009900;">}</span><br /><a href="http://inside-r.org/r-doc/base/print"><span style="color: #003399; font-weight: bold;">print</span></a><span style="color: #009900;">(</span>n/<span style="color: #cc66cc;">10000</span><span style="color: #009900;">)</span></pre></div></div>模拟结果分别是0.33和0.66，与理论结果一致。一个很简单的模拟，证明了一个略有麻烦的问题。<br /><br />参考资料：<br /><a href="http://zh.wikipedia.org/wiki/%E8%92%99%E6%8F%90%E9%9C%8D%E7%88%BE%E5%95%8F%E9%A1%8C">wikipedia</a><br />Data_Analysis_with_Open_Source_Tools
