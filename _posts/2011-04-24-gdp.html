--- 
layout: post
name: gdp
title: "R\xE8\xAF\xAD\xE8\xA8\x80\xE4\xB8\xAD\xE5\xA6\x82\xE4\xBD\x95\xE8\xB0\x83\xE7\x94\xA8\xE4\xB8\x96\xE7\x95\x8C\xE9\x93\xB6\xE8\xA1\x8C\xE6\x95\xB0\xE6\x8D\xAE\xE6\x9D\xA5\xE6\xAF\x94\xE8\xBE\x83\xE9\x87\x91\xE7\xA0\x96\xE4\xBA\x94\xE5\x9B\xBD\xE7\x9A\x84GDP"
date: 2011-04-24 21:15:00 +08:00
categories: 
- "\xE5\x8F\xAF\xE8\xA7\x86\xE5\x8C\x96"
- "\xE5\x85\xAC\xE5\xBC\x80\xE6\x95\xB0\xE6\x8D\xAE"
permalink: /2011/04/gdp.html
---
将数据进行可视化是探索分析的首要步骤。R语言中有两大高级绘图扩展包，即是lattice与ggplot2。它们各自都有很强的绘图能力。不过只有工具是不够的，巧妇难为无米之炊，你还得有数据。World Bank Data是世界银行组织构建的一个开放数据库，其中包括了世界各国关于经济、环境、人口等信息。数据获取的一种方法是从其<a href="http://data.worldbank.org/" target="_blank">网站</a>上下载数据再导入R软件，另一种是利用WDI扩展包，直接读取想要的数据。<br /><br />下面我们用WDI包的WDI函数，将中国、俄罗斯、南非、印度、巴西这五国的GDP数据载入内存，选取的时间为1990-2009年，在选择国家时需使用ISO-2标准的国家代码，数据指标是世界银行的特定编码，你可以通过WDIsearch("gdp")命令来得到所有关于GDP的编码。<br /><a name='more'></a><br />---------------<br />library(ggplot2)<br />library(WDI)<br /><br />DF = WDI(country=c("CN","RU","BR","ZA","IN"),<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; indicator="NY.GDP.MKTP.KD.ZG",<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; start=1990, end=2010)<br />head(DF)<br />--------------- <br /><br />&nbsp; &nbsp;country iso2c year NY.GDP.MKTP.KD.ZG<br />63 &nbsp;Brazil &nbsp; &nbsp;BR 1990 &nbsp; &nbsp; &nbsp; &nbsp;-4.3000000<br />62 &nbsp;Brazil &nbsp; &nbsp;BR 1991 &nbsp; &nbsp; &nbsp; &nbsp; 1.5120675<br />61 &nbsp;Brazil &nbsp; &nbsp;BR 1992 &nbsp; &nbsp; &nbsp; &nbsp;-0.4669149<br />60 &nbsp;Brazil &nbsp; &nbsp;BR 1993 &nbsp; &nbsp; &nbsp; &nbsp; 4.6651509<br />59 &nbsp;Brazil &nbsp; &nbsp;BR 1994 &nbsp; &nbsp; &nbsp; &nbsp; 5.3343599<br />58 &nbsp;Brazil &nbsp; &nbsp;BR 1995 &nbsp; &nbsp; &nbsp; &nbsp; 4.4168320<br /><br /><br />然后用ggplot2包来绘图，以不同颜色来区分不同国家的数据<br />--------------- <br />ggplot(DF, aes(year, NY.GDP.MKTP.KD.ZG, color=country))+<br />&nbsp; geom_line()+geom_point()+xlab("Year")+<br />&nbsp; opts(title="Annual GDP Growth rate (%)")+ylab("")<br />--------------- <br /><div class="separator" style="clear: both; text-align: center;"></div><div class="separator" style="clear: both; text-align: center;"><a href="http://3.bp.blogspot.com/-o2cq0skRrFc/Tu09gvdtIDI/AAAAAAAAAm4/X7zylnag4fQ/s1600/Rplot.jpeg" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://3.bp.blogspot.com/-o2cq0skRrFc/Tu09gvdtIDI/AAAAAAAAAm4/X7zylnag4fQ/s1600/Rplot.jpeg" /></a></div><br />
